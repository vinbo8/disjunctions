---
import { getCollection } from "astro:content";
import AuthorList from "@components/AuthorList"
import Wrapper from "@components/Wrapper"
import { getEntries } from "astro:content";

export async function getStaticPaths() {
	const blogEntries = await getCollection('articles') 
	return blogEntries.map((article) => {
		return {
			params: { article: article.slug},
			props: { article }
		};
	})
}

const { article } = Astro.props
const { Content } = await article.render()

const authors = await getEntries(article.data.authors)
---

<!-- <div class="text-center font-sans text-base basis-full leading-relaxed"> -->
<Wrapper title={article.data.title}>
	<!-- <div class="flex overflow-hidden flex-row flex-wrap justify-between gap-4">
		<div class="font-sans text-2xl basis-4/12">
			<span class="">{article.data.title}</span><br>
			<span class="text-2xl"><AuthorList authors={authors} /></span><br>
			<span class="text-sm">{article.data.date.toLocaleDateString('en-GB', {day: 'numeric', month: 'long', year: 'numeric'})}</span>
		</div>
		<div class="text-right font-serif text-sm basis-7/12"><span class="align-bottom">{article.data.abstract}</span></div>
	</div> -->
	<div class="flex flex-col font-sans text-3xl text-center max-w-5xl space-y-1">
		<span class="">{article.data.title}</span><br>
		<span class="text-xl"><AuthorList authors={authors} /></span><br>
		<span class="text-sm">{article.data.date.toLocaleDateString('en-GB', {day: 'numeric', month: 'long', year: 'numeric'})}</span>
	</div>
	<br class="my-2">
	<div class="prose prose-base max-w-none
				prose-p:font-serif 
				prose-headings:my-2" >
		<Content />
	</div>
</Wrapper>
